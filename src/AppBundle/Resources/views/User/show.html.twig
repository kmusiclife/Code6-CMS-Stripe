{% trans_default_domain 'message' %}
{% extends '@AppBundle/Resources/views/Template/layout.html.twig' %}

{% block title %}{{ 'user.title.show'|trans }}{% endblock %}
{% block body %}
<table>
    <tbody>
        <tr>
            <th width="32%">{{ 'entity.user.username'|trans() }}</th>
            <td>{{ user.username }}</td>
        </tr>
        <tr>
            <th>{{ 'entity.user.email'|trans() }}</th>
            <td>{{ user.email }}</td>
        </tr>
        <tr>
            <th>{{ 'entity.user.fname'|trans() }}</th>
            <td>{{ user.fname }}</td>
        </tr>
        <tr>
            <th>{{ 'entity.user.lname'|trans() }}</th>
            <td>{{ user.lname }}</td>
        </tr>
        <tr>
            <th>{{ 'entity.user.zip'|trans() }}</th>
            <td>{{ user.zip }}</td>
        </tr>
        <tr>
            <th>{{ 'entity.user.address'|trans() }}</th>
            <td>{{ user.address }}</td>
        </tr>
        <tr>
            <th>{{ 'entity.user.tel'|trans() }}</th>
            <td>{{ user.tel }}</td>
        </tr>

        {% if user.facebookurl is not null %}
		<tr>
			<th>{{ 'entity.user.facebook_url'|trans }}</th>
			<td><a href="{{ user.facebookurl }}" target="_blank" class="button small special">FACEBBOOK URL</a></td>
		</tr>
        {% endif %}

    </tbody>
</table>

{% if subscription.id is defined %}
<h3>{{ 'subscription.title.index'|trans() }}</h3>
<table>
    <tbody>
        <tr>
            <th width="32%">{{ 'entity.user.plan'|trans() }}</th>
            <td>{{ subscription.plan.nickname }}</td>
        </tr>
    	<tr>
    		<th>{{ 'subscription.plan.amount'|trans }}</th>
    		<td>{{ subscription.plan.amount }}</td>
    	</tr>        
    	<tr>
    		<th>{{ 'subscription.current_period_start'|trans }}</th>
    		<td>{{ subscription.current_period_start|date('Y-m-d H:i:s') }}</td>
    	</tr>
    	<tr>
    		<th>{{ 'subscription.current_period_end'|trans }}</th>
    		<td>{{ subscription.current_period_end|date('Y-m-d H:i:s') }}</td>
    	</tr>
    	<tr>
    		<th>{{ 'subscription.plan.interval'|trans }}</th>
    		<td>{{ subscription.plan.interval }}</td>
    	</tr>
    </tbody>
</table>
{% endif %}

{% if invoices.data is defined %}
<h3>{{ 'subscription.title.invoice'|trans() }}</h3>
<table class="table">
<tr>
	<th>{{ 'subscription.invoice.date'|trans }} </th>
	<th>{{ 'subscription.invoice.number'|trans }}</th>
	<th>{{ 'subscription.invoice.total'|trans }}</th>
	<th>{{ 'subscription.invoice.hosted_invoice_url'|trans }}</th>
</tr>
{% for invoice in invoices.data %}
	<tr>
		<td>
			{{ invoice.date|date('Y-m-d') }} 
		</td>
		<td>
			{{ invoice.number }}
		</td>
		<td>
			{{ invoice.total }}
		</td>
		<td>
			<a href="{{ invoice.hosted_invoice_url }}" target="_blank" class="button small special">{{ 'subscription.invoice.hosted_invoice_url'|trans }}</a>
		</td>
	</tr>
{% endfor %}
</table>
{% endif %}


{% endblock %}
